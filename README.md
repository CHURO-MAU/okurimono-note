# 🎁 おくりものノート

子供がいただいたお祝いやお年玉を、家族が簡単に記録・管理できるWebアプリです。
単なる金額管理ではなく、将来「こんなに祝ってもらったんだよ」と子供に見せられる**思い出の記録**としての側面を持たせています。

![License](https://img.shields.io/badge/license-MIT-blue.svg)

## ✨ 特徴

- 📝 **お祝い記録の管理** - 日付、金額、カテゴリー、贈り主、受取人、メモを記録
- 🎨 **温かみのあるデザイン** - ひらがなが似合う柔らかいパステルカラー
- 📊 **集計ダッシュボード** - 子供別・贈り主別・カテゴリー別・時系列での集計表示
- 🔍 **フィルタリング機能** - 期間や条件で絞り込み可能
- ✅ **お返し管理** - 内祝いの有無を記録・追跡
- 💾 **ローカルストレージ** - データはブラウザに保存（サーバー不要）
- 📥📤 **データバックアップ** - JSON形式でエクスポート・インポート可能

## 🚀 セットアップ

### 前提条件

- Node.js 18以上
- npm または yarn

### インストール

```bash
# リポジトリのクローン
git clone https://github.com/yourusername/okurimono-note.git
cd okurimono-note

# 依存関係のインストール
npm install

# 開発サーバーの起動
npm run dev
```

ブラウザで `http://localhost:3000` を開きます。

## 📱 使い方

### 1. お祝いを記録する

1. 「あたらしく きろく」ボタンをクリック
2. 日付、金額、カテゴリー、贈り主、受取人を入力
3. 必要に応じてメモを追加
4. お返しをした場合はチェックを入れる

### 2. 記録を確認する

- **きろくいちらん**: すべての記録を一覧表示
- カードをクリックで詳細を展開
- 編集・削除も可能

### 3. 集計を見る

- **しゅうけい** タブで各種集計を表示
- 子供別、贈り主別、カテゴリー別の合計金額
- お返し未済のリスト

### 4. フィルタリング

- フィルターボタンから条件を設定
- 子供、カテゴリー、贈り主、期間、お返し状況で絞り込み
- ソート順も変更可能

### 5. データのバックアップ

#### データのエクスポート（バックアップ）

1. タブの右側にある 💾 ボタンをクリック
2. 「データをダウンロード」ボタンをクリック
3. `okurimono-note_YYYYMMDD_HHMM.json` というファイルがダウンロードされます
4. このファイルを安全な場所に保存してください

**推奨：**
- 定期的（月1回など）にバックアップを取得
- PCやクラウドストレージ（Google Drive等）に保存
- ブラウザのデータをクリアする前に必ずバックアップ

#### データのインポート（復元）

1. 💾 ボタンをクリック
2. インポートモードを選択
   - **➕ 追加（推奨）**: 既存データを残して新しいデータを追加
   - **🔄 全部置き換え**: 既存データを削除して完全に置き換え
3. 「ファイルを選択」ボタンをクリック
4. 保存しておいたJSONファイルを選択

**注意：**
- LocalStorageはブラウザのキャッシュクリアで消えます
- シークレットモード/プライベートブラウジングでは保存されません
- 別のブラウザやデバイスでデータを共有したい場合もこの機能を使用

## 🎨 デザインコンセプト

「ひらがな」が似合う温かく柔らかいデザインを目指しています。

- **カラーパレット**:
  - 桜色（#FF9FB0）: メインカラー
  - 空色（#A7D8DE）: セカンダリカラー
  - 若草色（#C3D825）: アクセント
  - クリーム色（#FFF8F0）: 背景
- **フォント**: Noto Sans JP（やさしいゴシック体）
- **UI要素**: 角丸を多用し、柔らかい印象

## 📁 プロジェクト構成

```
okurimono-note/
├── app/
│   ├── layout.tsx          # レイアウト
│   ├── page.tsx            # メインページ
│   └── globals.css         # グローバルスタイル
├── components/
│   ├── GiftForm.tsx        # 記録フォーム
│   ├── GiftList.tsx        # 記録一覧
│   ├── Dashboard.tsx       # 集計ダッシュボード
│   ├── FilterBar.tsx       # フィルター
│   └── DataManagement.tsx  # データバックアップ
├── lib/
│   ├── types.ts            # 型定義
│   ├── storage.ts          # LocalStorage操作
│   ├── utils.ts            # ユーティリティ関数
│   └── dataManagement.ts   # エクスポート・インポート
├── tailwind.config.ts      # Tailwind設定
└── package.json
```

## 🛠️ 技術スタック

- **Frontend**: Next.js 14 (App Router)
- **Styling**: Tailwind CSS
- **Language**: TypeScript
- **Storage**: LocalStorage (ブラウザローカル)

## 🚀 GitHub Pagesへのデプロイ

このアプリはGitHub Pagesで簡単にデプロイできます。

### デプロイ手順

#### 1. リポジトリの準備

```bash
# mainブランチにコードをpush
git push origin main
```

#### 2. GitHub Pages設定

1. GitHubリポジトリのページを開く
2. **Settings** タブをクリック
3. 左サイドバーから **Pages** を選択
4. **Source** セクションで **GitHub Actions** を選択
5. 自動的にビルド・デプロイが開始されます

#### 3. アクセス

- デプロイが完了すると以下のURLでアクセス可能:
  - `https://<username>.github.io/okurimono-note/`

#### 4. サブパスの設定（リポジトリ名でホストする場合）

もし `https://<username>.github.io/okurimono-note/` のようにサブパスでホストする場合は、
`next.config.js` のコメントアウトされている部分を有効にしてください:

```javascript
basePath: '/okurimono-note',
assetPrefix: '/okurimono-note',
```

### 手動ビルド（開発用）

```bash
npm run build
```

ビルドされたファイルは `out/` ディレクトリに出力されます。

### 注意事項

- mainブランチにpushするたびに自動デプロイされます
- ビルドには数分かかる場合があります
- GitHub Actionsのタブでデプロイ状況を確認できます

## 🔮 今後の拡張案

- 📸 写真添付機能
- 📤 データのエクスポート（CSV、PDF形式）
- 🔐 クラウド同期（Firebase等）
- 📅 お返しのリマインダー機能
- 🎉 年間サマリーレポート
- 🔒 データの暗号化

## 📄 ライセンス

MIT License